[{"uri":"https://jonahjon.github.io/ps-eks-accelerator/editing-docs/","title":"Editing Docs","tags":[],"description":"","content":" Editing Docs Tips and Tricks for editing and adidng to the Hugo site\nBasic Layout Each chapter or folder has to have an \u0026ldquo;_index.md\u0026rdquo; file.\n├── Building\\ Clusters │ ├── _index.md │ ├── eksctl.md │ ├── introduction.md │ └── terraform.md └── _index.md  Ordering files/chapters I add the following at the top of each _index.md file.\ntitle = The name of the chapter on the sidebar\nchapter = determines whether or not it can weighted with other chapters within the same folder. (I set this to true for every markdown file)\n+++ title = \u0026quot;Building Clusters Part 1\u0026quot; date = 2020-06-16T19:01:12-04:00 weight = 5 #weight specifies the order chapter = true pre = \u0026quot;\u0026lt;b\u0026gt;\u0026lt;/b\u0026gt;\u0026quot; +++  If I wanted to add another section called \u0026ldquo;Building Clusters Part 2\u0026rdquo; I would add in a new markdown file \u0026ldquo;part2.md\u0026rdquo;\nAt the top I would add +++ title = \u0026quot;Building Clusters Part 2\u0026quot; date = 2020-06-16T19:01:12-04:00 weight = 10 #weight specifies the order chapter = true pre = \u0026quot;\u0026lt;b\u0026gt;\u0026lt;/b\u0026gt;\u0026quot; +++  Running locally make docs  or\ncd ps-eks-accelerator \u0026amp;\u0026amp; hugo serve -D  navigate to http://localhost:1313/ps-eks-accelerator\nImages Images live in the ps-eks-accelerator/static/images/name-of-chapter/image.png\nAdding an image Examples is to add the image eks-product-page.png in the Chapter Introduction\nWe would add the image to ps-eks-accelerator/static/images/introduction/eks-product-page.png\nLinking to an image in a page ![Example Image](/images/introduction/eks-product-page.png)!  Code samples To add a bash code block use three backticks `bash (MY CODE HERE) \\ To add a yaml code block use three backticks \\yaml (MY CODE HERE) \\`\nCollapse Text #Remove the spaces between the brackets {{ }} { {%expand \u0026quot;Title of the Colapse\u0026quot; %} } Things: to put in my collapase { {% /expand %} }\u0026quot;  Launching Site on Github via Environments Here we show how you use Github to automatically build/deploy this site on Github Pushes and Merges\nStep 1 Create an actions file\ntouch .github/workflows/docs.yaml  Step 2 Change the two parameters in the config.toml to match desired github repo. * The repo name needs to match the hugo project name If we wanted to rename it we need to change both.\nbaseurl = \u0026quot;https://jonahjon.github.io/ps-eks-accelerator\u0026quot;  Step 3 Assuming you have, or know how to create a github API key go do that through the developer settings.\nName it ACTIONS_DEPLOY_KEY\nStep 4 Finish by adding in our github actions workflow. This will deploy the site on git pushes, and can be found in the \u0026ldquo;Environments\u0026rdquo; section under the repo.\nname: Publish EKS Accelerator on: push: branches: [ master ] jobs: build: runs-on: ubuntu-latest steps: - uses: actions/checkout@v1 - name: Checkout uses: actions/setup-node@v1 with: node-version: 10.x - name: Setup Hugo uses: peaceiris/actions-hugo@v2.2.1 with: hugo-version: '0.58.3' - name: Prepare Hugo run: | git submodule sync \u0026amp;\u0026amp; git submodule update --init - name: Build run: make docs - name: add nojekyll run: touch ./ps-eks-accelerator/public/.nojekyll - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: publish_dir: ./ps-eks-accelerator/public # default: public github_token: ${{ secrets.GITHUB_TOKEN }}  "},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/building-clusters/","title":"Building Clusters","tags":[],"description":"","content":" Chapter 1 Building Clusters Chapter about Building Clusters\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/container-runtime-security/","title":"Container Runtime Security","tags":[],"description":"","content":" Chapter 11 Container Runtime Security Chapter about Container Runtime Security\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/container-runtime-security/_example/","title":"Container Runtime Security Examples","tags":[],"description":"","content":" Chapter 11 Examples Container Runtime Security Examples Chapter about Container Runtime Security Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/container-runtime-security/_partner/","title":"Container Runtime Security Partners","tags":[],"description":"","content":" Chapter 11 Partners Container Runtime Security Partners Chapter about Container Runtime Security Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/eks-cluster-provisioning/","title":"EKS Cluster Provisioning","tags":[],"description":"","content":" Chapter 2 EKS Cluster Provisioning Chapter about EKS Cluster Provisioning\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/eks-cluster-provisioning/_example/","title":"EKS Cluster Provisioning Examples","tags":[],"description":"","content":" Chapter 2 Examples EKS Cluster Provisioning Examples Chapter about EKS Cluster Provisioning Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/eks-cluster-provisioning/_partner/","title":"EKS Cluster Provisioning Partners","tags":[],"description":"","content":" Chapter 2 Partners EKS Cluster Provisioning Partners Chapter about EKS Cluster Provisioning Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/encryption-and-secrets-management/","title":"Encryption and Secrets Management","tags":[],"description":"","content":" Chapter 9 Encryption and Secrets Management Chapter about Encryption and Secrets Management\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/encryption-and-secrets-management/_example/","title":"Encryption and Secrets Management Examples","tags":[],"description":"","content":" Chapter 9 Examples Encryption and Secrets Management Examples Chapter about Encryption and Secrets Management Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/encryption-and-secrets-management/_partner/","title":"Encryption and Secrets Management Partners","tags":[],"description":"","content":" Chapter 9 Partners Encryption and Secrets Management Partners Chapter about Encryption and Secrets Management Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/identity-and-access-management/","title":"Identity and Access Management","tags":[],"description":"","content":" Chapter 8 Identity and Access Management Chapter about Identity and Access Management\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/identity-and-access-management/_example/","title":"Identity and Access Management Examples","tags":[],"description":"","content":" Chapter 8 Examples Identity and Access Management Examples Chapter about Identity and Access Management Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/identity-and-access-management/_partner/","title":"Identity and Access Management Partners","tags":[],"description":"","content":" Chapter 8 Partners Identity and Access Management Partners Chapter about Identity and Access Management Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/kubernetes-basics/","title":"Kubernetes Basics","tags":[],"description":"","content":" Kubernetes Basics A walkthrough of basic Kubernetes concepts.\n!\nWelcome to the EKS Accerelator Offering\nThe intent of this offering is to help get you from 0 to 100 as fast as possible working with microservices on EKS.\nBackground in EKS, Kubernetes, Docker, and container workflows are not required, but they are recommended.\nThis chapter will introduce you to the basic workings of Kubernetes, laying the foundation for some of the later chapters.\nSpecifically, we will walk you through the following topics:\n Amazon EKS   Amazon EKS   Amazon EKS   "},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/observability/logging/","title":"Logging","tags":[],"description":"","content":" Chapter 5 Logging Chapter about Logging\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/observability/logging/_example/","title":"Logging Examples","tags":[],"description":"","content":" Chapter 5 Examples Logging Examples Chapter about Logging Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/observability/logging/_partner/","title":"Logging Partners","tags":[],"description":"","content":" Chapter 5 Partners Logging Partners Chapter about Logging Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/observability/monitoring/","title":"Monitoring","tags":[],"description":"","content":" Chapter 4 Monitoring Chapter about Monitoring\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/observability/monitoring/_example/","title":"Monitoring Examples","tags":[],"description":"","content":" Chapter 4 Examples Monitoring Examples Chapter about Monitoring Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/observability/monitoring/_partner/","title":"Monitoring Partners","tags":[],"description":"","content":" Chapter 4 Partners Monitoring Partners Chapter about Monitoring Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/multi-tenancy-design/","title":"Multi-tenancy design","tags":[],"description":"","content":" Chapter 3 Multi-tenancy design Chapter about Multi-tenancy design\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/multi-tenancy-design/_example/","title":"Multi-tenancy design Examples","tags":[],"description":"","content":" Chapter 3 Examples Multi-tenancy design Examples Chapter about Multi-tenancy design Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/multi-tenancy-design/_partner/","title":"Multi-tenancy design Partners","tags":[],"description":"","content":" Chapter 3 Partners Multi-tenancy design Partners Chapter about Multi-tenancy design Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/network-security/","title":"Network Security","tags":[],"description":"","content":" Chapter 10 Network Security Chapter about Network Security\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/network-security/_example/","title":"Network Security Examples","tags":[],"description":"","content":" Chapter 10 Examples Network Security Examples Chapter about Network Security Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/network-security/_partner/","title":"Network Security Partners","tags":[],"description":"","content":" Chapter 10 Partners Network Security Partners Chapter about Network Security Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/networking-architecture/","title":"Networking Architecture","tags":[],"description":"","content":" Chapter 7 Networking Architecture Chapter about Networking Architecture\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/networking-architecture/_example/","title":"Networking Architecture Examples","tags":[],"description":"","content":" Chapter 7 Examples Networking Architecture Examples Chapter about Networking Architecture Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/networking-architecture/_partner/","title":"Networking Architecture Partners","tags":[],"description":"","content":" Chapter 7 Partners Networking Architecture Partners Chapter about Networking Architecture Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cicd/pipelines/_example/","title":"Pipelines Examples","tags":[],"description":"","content":" Chapter 7 Examples Pipelines Examples Chapter about Pipelines Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cicd/pipelines/_partner/","title":"Pipelines Partners","tags":[],"description":"","content":" Chapter 7 Partners Pipelines Partners Chapter about Pipelines Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/storage/stateful-storage-architecture/","title":"Stateful Storage Architecture","tags":[],"description":"","content":" Chapter 6 Stateful Storage Architecture Chapter about Stateful Storage Architecture\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/storage/stateful-storage-architecture/_example/","title":"Stateful Storage Architecture Examples","tags":[],"description":"","content":" Chapter 6 Examples Stateful Storage Architecture Examples Chapter about Stateful Storage Architecture Examples\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/storage/stateful-storage-architecture/_partner/","title":"Stateful Storage Architecture Partners","tags":[],"description":"","content":" Chapter 6 Partners Stateful Storage Architecture Partners Chapter about Stateful Storage Architecture Partners\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/","title":"Cluster Ops","tags":[],"description":"","content":" Chapter Cluster Ops Cluster Ops Chapter about Cluster Ops\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/building-clusters/introduction/","title":"Introduction","tags":[],"description":"","content":" Introduction and Background Kubernetess Tools Installation Kubectl The Kubernetes command-line tool, kubectl, allows you to run commands against Kubernetes clusters.\nReqiured Tools for EKS - Kubectl - AWS IAM Authenticator\nInstall for Linux:   Expand to see Linux Kubectl install Instructions   Download the Kubectl binary:\n#Kubectl curl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl chmod +x ./kubectl sudo mv ./kubectl /usr/local/bin/kubectl kubectl version --client #AWS IAM Authcenticator curl -o aws-iam-authenticator https://amazon-eks.s3.us-west-2.amazonaws.com/1.16.8/2020-04-16/bin/linux/amd64/aws-iam-authenticator chmod +x ./aws-iam-authenticator mkdir -p $HOME/bin \u0026amp;\u0026amp; cp ./aws-iam-authenticator $HOME/bin/aws-iam-authenticator \u0026amp;\u0026amp; export PATH=$PATH:$HOME/bin echo 'export PATH=$PATH:$HOME/bin' \u0026gt;\u0026gt; ~/.bashrc aws-iam-authenticator help    Install for MacOSx   Expand to see Mac OSX Kubectl install Instructions   Install via Homebrew\n#Kubectl brew install kubectl kubectl version --client #AWS IAM Authcenticator brew install aws-iam-authenticator aws-iam-authenticator help    Install for Windows   Expand to see Windows Kubectl install Instructions   Install via Chocolatey\n#Kubectl choco install kubernetes-cli kubectl version --client #AWS IAM Authcenticator choco install -y aws-iam-authenticator aws-iam-authenticator help    Kubernetess Tools Installation "},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/building-clusters/eksctl/","title":"Eksctl","tags":[],"description":"","content":" Eksctl Chapter about Building Clusters Examples\nThe first method to launch an EKS cluster is using eksctl the tool built by weaveworks.\nInstallation For linux:   Expand to see Linux Eksctl install Instructions   Download the eksctl binary:\ncurl --silent --location \u0026quot;https://github.com/weaveworks/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz\u0026quot; | tar xz -C /tmp sudo mv -v /tmp/eksctl /usr/local/bin eksctl version    For MacOSx   Expand to see Mac OSX Eksctl install Instructions   Install via Homebrew\nbrew install eksctl eksctl version    For Windows   Expand to see Windows Eksctl install Instructions   Install via Chocolatey\nchocolatey install -y eksctl eksctl version    Bash Completion   Expand to enable Bash-completion Instructions   eksctl completion bash \u0026gt;\u0026gt; ~/.bash_completion . /etc/profile.d/bash_completion.sh . ~/.bash_completion    Eksctl Information eksctl is a command line tool which builds, launches, and controls Amazon EKS clusters for you. It uses Cloudformation, and the Kubernetes API under the hood to manage the lifecycle of events.\nThe Eksctl File eksctl can be used via the command line to launch a cluster, or use a cluster file. The cluster file is defined in yaml, and follows the cluster file schema. There are many options within the cluster spec that can configured to fit your exact need, but we are going to start off with a best practices cluster, and explain what each flag is doing.\napiVersion: eksctl.io/v1alpha5 #version of the eksctl schema kind: ClusterConfig metadata: name: robotshop # Name of the eks cluster region: us-west-2 #Region of the eks cluster iam: withOIDC: true #uses IAM for service account serviceAccounts: # Create a service account which links to the Xray policy. This later gets attached to the pod for fine grained access control - metadata: name: xray-daemon namespace: robotshop labels: {aws-usage: \u0026quot;application\u0026quot;} attachPolicyARNs: - \u0026quot;arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess\u0026quot; - metadata: name: cluster-autoscaler namespace: kube-system labels: {aws-usage: \u0026quot;cluster-ops\u0026quot;} #Here we define a new IAM policy to attach to our autoscaler service account attachPolicy: Version: \u0026quot;2012-10-17\u0026quot; Statement: - Effect: Allow Action: - \u0026quot;autoscaling:DescribeAutoScalingGroups\u0026quot; - \u0026quot;autoscaling:DescribeAutoScalingInstances\u0026quot; - \u0026quot;autoscaling:DescribeLaunchConfigurations\u0026quot; - \u0026quot;autoscaling:DescribeTags\u0026quot; - \u0026quot;autoscaling:SetDesiredCapacity\u0026quot; - \u0026quot;autoscaling:TerminateInstanceInAutoScalingGroup\u0026quot; Resource: '*' nodeGroups: - name: robotshop-ng-a tags: # EC2 tags required for cluster-autoscaler auto-discovery k8s.io/cluster-autoscaler/enabled: \u0026quot;true\u0026quot; k8s.io/cluster-autoscaler/robotshop: \u0026quot;owned\u0026quot; desiredCapacity: 1 minSize: 1 maxSize: 2 iam: withAddonPolicies: autoScaler: true externalDNS: true certManager: true ebs: true albIngress: true xRay: true cloudWatch: true availabilityZones: [\u0026quot;us-west-2a\u0026quot;] ssh: # An existing key pair for EC2 host test publicKeyName: kube volumeSize: 50 # - name: robotshop-ng-b # desiredCapacity: 1 # minSize: 1 # maxSize: 2 # iam: # withAddonPolicies: # imageBuilder: true # autoScaler: true # externalDNS: true # certManager: true # appMesh: true # ebs: true # fsx: true # efs: true # albIngress: true # xRay: true # cloudWatch: true # availabilityZones: [\u0026quot;us-west-2b\u0026quot;] # ssh: # An existing key pair for EC2 hosts # publicKeyName: kube # volumeSize: 50 # Use the encryption key from the CLI secretsEncryption: keyARN: \u0026quot;arn:aws:kms:us-west-2:164382793440:key/751f1d85-43fd-4be4-835d-906189f64c8c\u0026quot; cloudWatch: clusterLogging: enableTypes: [\u0026quot;*\u0026quot;]  "},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/observability/","title":"Observability","tags":[],"description":"","content":" Chapter 7 Observability Chapter about Observability\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cicd/","title":"CICD","tags":[],"description":"","content":" Chapter CICD CICD Chapter about CICD\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/building-clusters/terraform/","title":"Terraform","tags":[],"description":"","content":" Terraform "},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cluster-ops/building-clusters/_partner/","title":"Partners","tags":[],"description":"","content":" Partners Chapter about Building Clusters with Partner Tools\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/storage/","title":"Storage","tags":[],"description":"","content":" Chapter Storage Storage Chapter about Storage\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/cicd/pipelines/","title":"Pipelines","tags":[],"description":"","content":" Chapter 7 Pipelines TESSTING Chapter about Pipelines\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/security/","title":"Security","tags":[],"description":"","content":" Chapter Security Security Chapter about Security\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/","title":"EKS Accelerator","tags":[],"description":"","content":" Chapter EKS Accelerator Chapter about EKS Accelerator\n"},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/kubernetes-basics/architecture/","title":"Amazon EKS","tags":[],"description":"","content":"In this section, we\u0026rsquo;ll cover the following topics:\n "},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/kubernetes-basics/basics/","title":"Amazon EKS","tags":[],"description":"","content":"In this section, we\u0026rsquo;ll cover the following topics:\n "},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/kubernetes-basics/eks/","title":"Amazon EKS","tags":[],"description":"","content":"In this section, we\u0026rsquo;ll cover the following topics:\n "},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"https://jonahjon.github.io/ps-eks-accelerator/tags/","title":"Tags","tags":[],"description":"","content":""}]